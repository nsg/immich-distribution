{% extends "base.html" %}
{% import "macros.html" as macros %}

{% block title %}{{ page.title }} | {{ config.title }}{% endblock title %}

{% block sidebar %}
{% set news_section = get_section(path="news/_index.md") %}
<aside class="sidebar">
    {{ macros::news_sidebar(section_obj=news_section, current_path=page.permalink) }}
</aside>
{% endblock sidebar %}

{% block mobile_sidebar %}
{% set news_section = get_section(path="news/_index.md") %}
{{ macros::mobile_menu_with_subsections(menu_items=config.extra.menu.main, repo_url=config.extra.repo_url, current_section_obj=news_section, current_path=page.path) }}
{% endblock mobile_sidebar %}

{% block content %}
<article class="blog-post">
    <header class="post-header">
        <h1>{{ page.title }}</h1>
        <div class="post-meta">
            <time datetime="{{ page.date }}">{{ page.date | date(format="%B %d, %Y") }}</time>
            {% if page.extra.author %}
            <span class="author">by {{ page.extra.author | join(sep=", ") }}</span>
            {% endif %}
        </div>
    </header>
    <div class="post-content">
        {{ page.content | safe }}
    </div>
</article>
{% endblock content %}
