#!/bin/bash

export DB_HOSTNAME="127.0.0.1"
export DB_USERNAME="postgres"
export DB_PASSWORD="$(snapctl get database-password)"
export DB_DATABASE_NAME="immich"

export REDIS_HOSTNAME="127.0.0.1"
export UPLOAD_LOCATION="$SNAP_DATA/upload"
export REVERSE_GEOCODING_PRECISION="3"

cd $SNAP/usr/src/app
node dist/apps/immich/apps/immich/src/main

  #     #DB_PORT: 5432
  #     # REDIS_PORT=6379
  #     # REDIS_DBINDEX=0
  #     # REDIS_PASSWORD=
  #     # REDIS_SOCKET=
  #     IMMICH_WEB_URL: "http://127.0.0.1:3000"
  #     IMMICH_SERVER_URL: "http://127.0.0.1:3001"
  #     IMMICH_MACHINE_LEARNING_URL: "http://127.0.0.1:3003"
  #     #IMMICH_API_URL_EXTERNAL=http://localhost:3001
